<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.2, maximum-scale=3.0, user-scalable=yes">
    <title>憲法 第7問 自治会の寄付決議と思想良心の自由 (旧司法試験 H20)</title>
<style>
        /* CSSは後述のものをそのまま使用 */
        /* 画面全体 */
        body {
            font-family: 'Meiryo', 'Hiragino Kaku Gothic ProN', sans-serif;
            font-size: 13px; /* モバイル表示を考慮した基本フォントサイズ */
            line-height: 1.5;
            margin: 0; /* body自体のマージンは0 */
            padding: 20px; /* 全体余白、リセットCSSのメディアクエリで調整される */
            background-color: #ffffff;
            color: #333333;
        }

        /* ドキュメントタイトル */
        .document-title {
            font-size: 24px; /* bodyのフォントサイズに合わせて調整、リセットCSSのメディアクエリで調整される */
            font-weight: bold;
            color: #333333;
            margin-top: 0;
            margin-bottom: 20px;
            text-align: center;
        }

        /* 問題文要約コンテナ */
        .summary-container {
            border: 1px solid #cccccc;
            padding: 15px;
            margin: 20px auto;
            font-size: 0.85em;
            background-color: #f8f8f8;
            max-width: 90%;
            box-sizing: border-box;
            text-align: left;
        }

        .summary-container pre {
            margin: 0;
            padding: 0;
            font-family: inherit;
            white-space: pre-wrap;
            word-break: break-word;
            font-size: inherit;
            line-height: inherit;
            color: #333333;
        }

        /* マインドマップコンテナ */
        .mindmap-container {
            display: block;
            -webkit-overflow-scrolling: touch;
        }

        .mindmap,
        .mindmap ul {
            list-style: none;
            padding-left: 0;
            position: relative;
        }

        .mindmap ul {
            padding-left: 20px;
        }

        .mindmap li {
            margin: 5px 0;
            position: relative;
        }

        /* ノード */
        .node {
            padding: 4px 8px;
            border-radius: 5px;
            border: 1px solid #d1ccc0;
            display: inline-block;
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.05);
            transition: background-color .2s, color .2s;
            cursor: default;
        }

        /* トグル可能ノード */
        .node.toggleable {
            cursor: pointer;
        }

        .node.toggleable:hover {
            background-color: #e0e0e0;
        }

        /* トグルアイコン */
        .toggler-icon {
            display: inline-block;
            margin-right: 4px;
            font-weight: bold;
            width: 1em;
            text-align: center;
        }

        /* 階層ごとの色分け */
        .level-0 { background: #b2dfdb; color: #004d40; border-color: #80cbc4; }
        .level-1 { background: #bbdefb; color: #0d47a1; border-color: #90caf9; }
        .level-2 { background: #c8e6c9; color: #1b5e20; border-color: #a5d6a7; }
        .level-3 { background: #fff9c4; color: #795548; border-color: #fff59d; }
        .level-4 { background: #ffccbc; color: #bf360c; border-color: #ffab91; }
        .level-5 { background: #d1c4e9; color: #311b92; border-color: #b39ddb; }
        .level-6 { background: #b2ebf2; color: #006064; border-color: #80deea; }

        /* 重要事項・結論 */
        .issue { background: #ffcdd2; color: #c62828; border-color: #ef9a9a; font-weight: bold; }
        .conclusion { background: #cfd8dc; color: #263238; border-color: #b0bec5; }

        /* 非表示用 */
        .hidden { display: none !important; }

        /* コネクタ線 */
        .mindmap li::before {
            content: "";
            position: absolute;
            left: -10px;
            top: 0;
            bottom: 0;
            width: 1px;
        }

        .mindmap li:not(:last-child)::before {
            border-left: 1px solid #b0bec5;
        }

        .mindmap li:last-child::before {
            height: .9em;
            border-left: 1px solid #b0bec5;
        }

        .mindmap li > .node-container > .node::after {
            content: "";
            position: absolute;
            left: -10px;
            top: .9em;
            width: 9px;
            border-top: 1px solid #b0bec5;
        }

        .mindmap > li::before {
            display: none;
        }
        .mindmap > li > .node-container > .node::after {
            display: none;
        }

        .mindmap > li > .node-container + ul > li:first-child::before {
            top: -5px;
        }

        /* 強調用 */
        .crime-name { font-weight: bold; }
        .article-ref { font-size: .85em; opacity: .8; }

        /* アイコン＋ノードまとめ */
        .node-container {
            display: inline-flex;
            align-items: center;
            position: relative;
        }
        /* --- 徹底リセットCSS (ここから追加) --- */
        html, body {
          width: 100% !important;
          min-width: 0 !important;
          overflow-x: visible !important; /* visibleのママで、中の要素でauto */
          box-sizing: border-box;
        }

        .mindmap-container { /* mindmap-container のスタイル */
          display: block !important;
          width: 100% !important;
          min-width: 0 !important;
          max-width: 100% !important;
          overflow-x: auto !important; /* 水平スクロールはコンテナで */
          box-sizing: border-box !important;
          padding: 0 6px !important; /* コンテナ左右に少し余白 */
          text-align: center !important; /* 子要素である .mindmap を中央揃えするため */
        }

        .mindmap { /* mindmap (ul ルート要素) のスタイル */
          display: inline-block !important; /* 内容に応じた幅になり、text-align:centerで中央寄せされる */
          text-align: left !important; /* マインドマップ自身のテキストや要素の基点を左に */
          /* width は inline-block のため内容依存 */
          max-width: 100% !important; /* 親コンテナを超えることは防ぐ (スクロールのため) */
          box-sizing: border-box !important;
          margin: 0 !important; /* ul のデフォルトマージンをリセット */
          padding: 0 !important; /* ul のデフォルトパディングをリセット (元のCSSの padding-left: 0; を強化) */
          /* list-style: none; は元のCSSで指定済み */
          /* position: relative; は元のCSSで指定済み */
        }

        .node {
          font-size: 16px !important; /* ノードのフォントサイズを読みやすく */
          white-space: normal !important; /* テキストを折り返す */
          word-break: break-word !important; /* 単語の途中でも折り返す */
        }

        @media (max-width: 600px) {
          .node {
            font-size: 17px !important; /* 小さな画面ではノードフォントを僅かに大きく */
          }
          body {
              padding: 10px; /* モバイルではbodyの余白を少し減らす */
          }
          .document-title {
              font-size: 20px; /* モバイルではタイトルフォントを少し小さく */
          }
          .summary-container {
              max-width: 95%; /* モバイルでは要約コンテナの幅を広めに */
              font-size: 0.9em; /* モバイルでの要約フォントサイズ調整 */
          }
        }
        /* --- 徹底リセットCSS (ここまで追加) --- */
    </style>
</head>
<body>
    <h1 class="document-title">憲法 第7問 自治会の寄付決議と思想良心の自由 (旧司法試験 H20)</h1>
    <div class="summary-container">
        <pre id="summary-text">A自治会は、認可地縁団体であり、班長の負担軽減のため、会費を年5000円から6000円に増額し、その増額分（1000円）を特定の環境団体への寄付に充てる決議を行いました。
この決議について、憲法上の問題点を論じることが求められています。
主な論点は、事実上強制加入となっている団体が、特定の思想を持つ団体への寄付を強制することが、会員の思想・良心の自由を侵害しないか、また、団体の活動範囲の限界を超えるものではないか、という点です。</pre>
    </div>
    <div class="mindmap-container">
        <ul class="mindmap">
          <li>
            <div class="node-container">
              <span class="node level-0">本件決議の憲法上の問題点</span>
            </div>
            <ul>
              <li>
                <div class="node-container">
                  <span class="node level-1">決議の性質とA自治会の目的の範囲</span>
                </div>
                <ul>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">環境団体への寄付は「良好な地域社会の維持及び形成」(<span class="article-ref">地方自治法260条の2第2項1号</span>)に役立つ。</span>
                    </div>
                  </li>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">→ 決議はA自治会の目的の範囲内といえる。</span>
                    </div>
                  </li>
                </ul>
              </li>
              <li>
                <div class="node-container">
                  <span class="node level-1 issue">団体の活動範囲の限界（会員への協力義務の限界）</span>
                </div>
                <ul>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">判断基準</span>
                    </div>
                    <ul>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">原則: 団体の目的の範囲内の活動には、構成員の協力義務を肯定。</span>
                        </div>
                      </li>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">例外: 構成員に社会通念上過大な負担を課す場合は、協力義務を否定。</span>
                        </div>
                      </li>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">→ 具体的な活動内容・性質、協力の程度・態様等を比較衡量して判断。</span>
                        </div>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>
                <div class="node-container">
                  <span class="node level-1">本件へのあてはめ</span>
                </div>
                <ul>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">ア. 具体的な団体活動の内容・性質</span>
                    </div>
                    <ul>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">環境団体への寄付は、自治会の本来的活動（住民相互の連絡、環境整備等）ではなく、周辺的な活動にすぎない。</span>
                        </div>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">イ. 会員に求められる協力の内容・程度（会員の不利益）</span>
                    </div>
                    <ul>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">協力内容: 年1000円の寄付金の支払い。</span>
                        </div>
                      </li>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">制約される自由: 思想・良心の自由(<span class="article-ref">憲法19条</span>)</span>
                        </div>
                        <ul>
                          <li>
                            <div class="node-container">
                              <span class="node level-4">寄付の意思決定は、個人の人格形成に関わる重要な内面的精神作用。</span>
                            </div>
                          </li>
                        </ul>
                      </li>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">制約の程度（強制の度合い）</span>
                        </div>
                        <ul>
                          <li>
                            <div class="node-container">
                              <span class="node level-4">A自治会は、日常生活に不可欠な存在である可能性があり、脱退が困難な「事実上の強制加入団体」。</span>
                            </div>
                          </li>
                          <li>
                            <div class="node-container">
                              <span class="node level-4">会費増額分が全て特定の団体への寄付に充てられ、使途が明確なため、会員の思想・良心への制約は大きい。</span>
                            </div>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <div class="node-container">
                      <span class="node level-2">ウ. 利益衡量</span>
                    </div>
                    <ul>
                      <li>
                        <div class="node-container">
                          <span class="node level-3">会員の不利益（思想・良心の自由の制約）は、自治会の利益（班長の負担軽減）に比して相当に大きい。</span>
                        </div>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>
                <div class="node-container">
                  <span class="node level-1 conclusion">結論: 本件決議は、会員に社会通念上過大な負担を課すものであり、A自治会の活動範囲の限界を超える。</span>
                </div>
              </li>
            </ul>
          </li>
        </ul>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    // マインドマップノードの処理
    document.querySelectorAll('.mindmap li').forEach(item => {
        const nc = item.querySelector(':scope > .node-container');
        if (!nc) return;

        const node = nc.querySelector('.node');
        const sub = item.querySelector(':scope > ul');

        if (node) {
            const tog = document.createElement('span');
            tog.className = 'toggler-icon';
            
            if (sub) {
                tog.textContent = '[-]';
                nc.insertBefore(tog, node);
                node.classList.add('toggleable');
                
                const toggle = (event) => {
                    if (event.target === node || event.target === tog) {
                        sub.classList.toggle('hidden');
                        tog.textContent = sub.classList.contains('hidden') ? '[+]' : '[-]';
                    }
                };
                node.addEventListener('click', toggle);
                tog.addEventListener('click', toggle);

            } else {
                tog.innerHTML = ' '; // Non-breaking space for consistent alignment
                nc.insertBefore(tog, node);
            }
        }
    });

    // 問題文要約の抽出と表示 (ここを追加)
    const fullText = document.body.parentElement.outerHTML; // HTML全体のテキストを取得 (荒っぽい方法なので改善の余地あり)
                                                          // もし入力テキストが直接ここに渡されるなら、その方が良い。
                                                          // ここでは、プロンプトの指示に基づき、生成されたHTML内に
                                                          // 区切り文字がある前提で動作するよう記述するが、
                                                          // 実際にはHTML生成時に静的に埋め込む方が望ましい。
                                                          // このスクリプトはブラウザで実行されるため、
                                                          // AIが「入力テキスト」を直接参照することはできない。
                                                          // よって、この部分はAIがHTMLを生成する際に、
                                                          // 「7. コンテンツ抽出とマッピングのガイドライン」に従って
                                                          // 静的に要約を埋め込むことを期待する。
                                                          // JavaScriptでの動的抽出・挿入はここでは行わない。
                                                          // (AIがHTML生成時に行うべき処理のため)
});
    </script>
</body>
</html>